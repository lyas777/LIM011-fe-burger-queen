(this["webpackJsonpburger-queen"]=this["webpackJsonpburger-queen"]||[]).push([[0],{32:function(e,t,a){e.exports=a.p+"static/media/logo.c9b05f51.png"},35:function(e,t,a){e.exports=a(54)},40:function(e,t,a){},54:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(15),l=a.n(c),i=(a(40),a(11)),o=a(12),u=a(14),s=a(13),d=a(32),m=a.n(d),f=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("header",{"data-testid":"header"},r.a.createElement("nav",{className:"navbar navbar-light bg-light"},r.a.createElement("a",{className:"navbar-brand",href:"./"},r.a.createElement("img",{src:m.a,width:"30",height:"30",className:"d-inline-block align-top",alt:"","data-testid":"img"}),"Burger Queen"),r.a.createElement("ul",{className:"nav nav-pills nav-end"},r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link",href:"./"},"Inicio")),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link",href:"./"},"Men\xfa")),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link",href:"./"},"Registro de Pedidos")),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link",href:"./"},"Lista de pedidos")))))}}]),a}(r.a.Component),h=a(9),b=a(28),p=a(25),k=a.n(p);k.a.initializeApp({apiKey:"AIzaSyARrpV-s64iqAVmlIFxZgUTCyXpPNismbI",authDomain:"burguerqueen-4e436.firebaseapp.com",databaseURL:"https://burguerqueen-4e436.firebaseio.com",projectId:"burguerqueen-4e436",storageBucket:"burguerqueen-4e436.appspot.com",messagingSenderId:"290627068866",appId:"1:290627068866:web:067a2d77377a8a4db5ac5b"});var E=k.a.firestore(),v=function(e,t,a){if(null!==t){if(a.find((function(a){return a.id===e.id+t.id})))return a.map((function(a){var n=a;if(a.id===e.id+t.id){var r=n.quantity+=1;n.subTotal=r*a.price}return n.subTotal=a.quantity*a.price,n}));var n={id:e.id+t.id,nameProduct:e.nameProduct+" + "+t.nameOffer,price:e.price+t.price,quantity:1,subTotal:e.price+t.price};return a.concat(n)}if(a.find((function(t){return t.id===e.id})))return a.map((function(t){var a=t;if(t.id===e.id){var n=a.quantity+=1;a.subTotal=n*t.price}return a.subTotal=t.quantity*t.price,t}));var r={id:e.id,nameProduct:e.nameProduct,price:e.price,quantity:1,subTotal:e.price};return a.concat(r)},g=function(e){var t=0;return e.forEach((function(e){return t+=e.subTotal})),t},O=function(e){var t=e.clickTabs;return r.a.createElement("div",{"data-testid":"menu-tabs"},r.a.createElement("h1",null,"Men\xfa"),r.a.createElement("div",{className:"btn-group",role:"group","aria-label":"Basic example"},r.a.createElement("button",{type:"button",className:"btn btn-outline-primary",onClick:function(){return t("breakfast")},"data-testid":"breakfast"},"Desayuno"),r.a.createElement("button",{type:"button",className:"btn btn-outline-secondary",onClick:function(){return t("burger")},"data-testid":"burger"},"Hamburguesas"),r.a.createElement("button",{type:"button",className:"btn btn-outline-success",onClick:function(){return t("sideDish")},"data-testid":"sideDish"},"Acompa\xf1amiento"),r.a.createElement("button",{type:"button",className:"btn btn-outline-danger",onClick:function(){return t("drinks")},"data-testid":"drinks"},"Bebidas")),r.a.createElement("br",null))},S=function(e){var t=e.clickProduct,a=e.value.nameProduct,n=e.value.price;return r.a.createElement("li",null,r.a.createElement("button",{"data-testid":"button",className:"btn btn-outline-dark",onClick:function(){return t(e.value)}},a," S/. ",n))},y=function(e){var t=e.clickOffer,a=e.productOffer,n=e.value;return r.a.createElement("li",null,r.a.createElement("button",{"data-testid":"button",className:"btn btn-outline-dark",onClick:function(){return t(a,n)}},n.nameOffer," S/. ",n.price))},C=function(e){var t=e.offers,a=e.productOffer,n=e.clickOffer,c=t.map((function(e){return r.a.createElement(y,{key:e.id,value:e,clickOffer:n,productOffer:a})}));return r.a.createElement("div",null,r.a.createElement("h3",null,"Oferta"),r.a.createElement("ul",{"data-testid":"item-list"},c,r.a.createElement("li",null,r.a.createElement("button",{"data-testid":"button",className:"btn btn-outline-dark",onClick:function(){return e.clickOffer(e.productOffer,null)}},"Ninguno"))))},P=function(e){var t=e.products,a=e.clickProduct,n=e.offers,c=e.productOffer,l=e.clickOffer;return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("ul",{"data-testid":"item-list"},t&&t.map((function(e){return r.a.createElement(S,{key:e.id,value:e,clickProduct:a})})))),n.length>0&&r.a.createElement(C,{offers:n,clickOffer:l,productOffer:c}))},B=function(e){var t=e.clickTabs,a=e.products,n=e.clickProduct,c=e.offers,l=e.productOffer,i=e.clickOffer;return r.a.createElement("section",{className:"p-2 flex-fill bd-highlight","data-testid":"menu"},r.a.createElement(O,{clickTabs:t}),r.a.createElement(P,{products:a,clickProduct:n,offers:c,clickOffer:i,productOffer:l}))},j=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("p",null,"Mesero: John Cena GG")}}]),a}(r.a.Component),N=function(e){return r.a.createElement("tr",{"data-testid":"item-table-order"},r.a.createElement("td",{"data-testid":"item1"},r.a.createElement("button",{"data-testid":"button1",className:"btn btn-outline-danger btn-sm",onClick:function(){return e.clickButtonAdd(e.value)}},"+"),e.value.quantity,r.a.createElement("button",{"data-testid":"button2",className:"btn btn-outline-danger btn-sm",onClick:function(){return e.clickButtonSubtrack(e.value)}},"-")),r.a.createElement("td",null,e.value.nameProduct),r.a.createElement("td",null,"S/.",e.value.price),r.a.createElement("td",null,"S/.",e.value.subTotal),r.a.createElement("td",null,r.a.createElement("button",{"data-testid":"button3",className:"btn btn-danger",onClick:function(){return e.clickButtonDelete(e.value)}},"Eliminar")))},T=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.orderProduct,t=this.props.clickButtonAdd,a=this.props.clickButtonSubtrack,n=this.props.clickButtonDelete,c=this.props.totalPay,l=this.props.clickSend;return r.a.createElement("section",{className:"p-2 flex-fill bd-highlight"},r.a.createElement("div",{className:"container"},r.a.createElement("h1",null,"Registro de Pedidos"),r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Cantidad"),r.a.createElement("th",{scope:"col"},"Producto"),r.a.createElement("th",{scope:"col"},"Precio"),r.a.createElement("th",{scope:"col"},"Sub Total"),r.a.createElement("th",{scope:"col"}))),r.a.createElement("tbody",null,e.map((function(e){return r.a.createElement(N,{key:e.id,value:e,clickButtonAdd:t,clickButtonSubtrack:a,clickButtonDelete:n})})))),r.a.createElement("div",null,r.a.createElement("h2",null,"Total S/. ",c),r.a.createElement("button",{className:"btn btn-info",onClick:function(){return l()}},r.a.createElement("h5",null,"Enviar")))))}}]),a}(r.a.Component),w=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.orderProduct,t=this.props.clickButtonAdd,a=this.props.clickButtonSubtrack,n=this.props.clickButtonDelete,c=this.props.totalPay,l=this.props.clickSend;return r.a.createElement("section",null,r.a.createElement(j,null),r.a.createElement(T,{orderProduct:e,clickButtonAdd:t,clickButtonSubtrack:a,clickButtonDelete:n,totalPay:c,clickSend:l}))}}]),a}(r.a.Component),q=a(20),A=a(27),D=a(18),x=a(21),I=a(26),F=a(34),M=function(e){return r.a.createElement("tr",{"data-testid":"item-table-modal"},r.a.createElement("td",{"data-testid":"item1"},e.value.quantity),r.a.createElement("td",{"data-testid":"item2"},e.value.nameProduct),r.a.createElement("td",{"data-testid":"item3"},"S/.",e.value.price),r.a.createElement("td",{"data-testid":"item4"},"S/.",e.value.subTotal))},R=function(e){var t=e.show,a=e.handleClose,n=e.totalPay,c=e.orderProduct,l=e.clickSaveOrderFirestore,i=e.client,o=e.handleChangeClient,u=e.table,s=e.handleChangeTable;return r.a.createElement(q.a,{show:t,onHide:a,scrollable:!0,size:"xl","aria-labelledby":"contained-modal-title-vcenter",centered:!0},r.a.createElement(q.a.Header,{closeButton:!0},r.a.createElement(q.a.Title,{id:"contained-modal-title-vcenter"},"Registro de orden")),r.a.createElement(q.a.Body,null,r.a.createElement(D.a,null,r.a.createElement(D.a.Group,{as:I.a,controlId:"exampleForm.SelectCustomSizeSm"},r.a.createElement(D.a.Label,{column:!0,sm:2},"Cliente:"),r.a.createElement(x.a,{sm:10},r.a.createElement(D.a.Control,{placeholder:"Nombre y apellido",value:i,onChange:o}))),r.a.createElement(D.a.Group,{as:I.a,controlId:"exampleForm.SelectCustomSizeSm"},r.a.createElement(D.a.Label,{column:!0,sm:2},"Mesa:"),r.a.createElement(x.a,{sm:10},r.a.createElement(D.a.Control,{as:"select",size:"1",custom:!0,value:u,onChange:s},r.a.createElement("option",null,"1"),r.a.createElement("option",null,"2"),r.a.createElement("option",null,"3"),r.a.createElement("option",null,"4"),r.a.createElement("option",null,"5"))))),r.a.createElement(F.a,{striped:!0,bordered:!0,hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Cantidad"),r.a.createElement("th",null,"Producto"),r.a.createElement("th",null,"Precio c/u"),r.a.createElement("th",null,"Sub Total"))),r.a.createElement("tbody",null,c.map((function(e,t){return r.a.createElement(M,{key:t,value:e})})),r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"2"}),r.a.createElement("td",null,"Total"),r.a.createElement("td",null,"S/. ",n))))),r.a.createElement(q.a.Footer,null,r.a.createElement(A.a,{onClick:function(){return a()}},"Regresar"),r.a.createElement(A.a,{onClick:function(){return l()}},"Registrar")))},z=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={products:[],orders:[],offers:[],productOffer:{},total:0,show:!1,client:"",table:1},n.clickTabs=n.clickTabs.bind(Object(h.a)(n)),n.clickProduct=n.clickProduct.bind(Object(h.a)(n)),n.clickButtonAdd=n.clickButtonAdd.bind(Object(h.a)(n)),n.clickButtonSubtrack=n.clickButtonSubtrack.bind(Object(h.a)(n)),n.clickButtonDelete=n.clickButtonDelete.bind(Object(h.a)(n)),n.clickOffer=n.clickOffer.bind(Object(h.a)(n)),n.clickSend=n.clickSend.bind(Object(h.a)(n)),n.clickSaveOrderFirestore=n.clickSaveOrderFirestore.bind(Object(h.a)(n)),n.handleCloseModal=n.handleCloseModal.bind(Object(h.a)(n)),n.handleChangeClient=n.handleChangeClient.bind(Object(h.a)(n)),n.handleChangeTable=n.handleChangeTable.bind(Object(h.a)(n)),n}return Object(o.a)(a,[{key:"clickTabs",value:function(e){var t=this;(function(e){return E.collection("products").where("category","==",e).get().then((function(e){var t=[];return e.docs.forEach((function(e){var a=Object(b.a)({id:e.id},e.data());t.push(a)})),t}))})(e).then((function(e){return t.setState({products:e})}))}},{key:"clickProduct",value:function(e){var t,a=this;if(e.offer){(t=e.category,E.collection("offers").where("category","==",t).get().then((function(e){var t=[];return e.docs.forEach((function(e){var a=Object(b.a)({id:e.id},e.data());t.push(a)})),t}))).then((function(e){return a.setState({offers:e})}));var n={id:e.id,nameProduct:e.nameProduct,price:e.price};this.setState({productOffer:n})}else{var r=v(e,null,this.state.orders),c=g(r);this.setState({orders:r}),this.setState({total:c})}}},{key:"clickOffer",value:function(e,t){var a=v(e,t,this.state.orders),n=g(a);this.setState({orders:a}),this.setState({total:n}),this.setState({offers:[]})}},{key:"clickButtonAdd",value:function(e){var t=v(e,null,this.state.orders),a=g(t);this.setState({orders:t}),this.setState({total:a})}},{key:"clickButtonSubtrack",value:function(e){var t=this.state.orders.find((function(t){return t.id===e.id}));if(t.quantity>=1){var a=this.state.orders.map((function(t){var a=t;if(t.id===e.id){var n=a.quantity-=1;a.subTotal=n*t.price}return a.subTotal=t.quantity*t.price,t})),n=g(a);this.setState({orders:a}),this.setState({total:n})}if(0===t.quantity){var r=this.state.orders,c=r.findIndex((function(e){return e.id===t.id}));r.splice(c,1);var l=g(r);this.setState({orders:r}),this.setState({total:l})}}},{key:"clickButtonDelete",value:function(e){var t=this.state.orders,a=t.find((function(t){return t.id===e.id})),n=t.findIndex((function(e){return e.id===a.id}));t.splice(n,1);var r=g(t);this.setState({orders:t}),this.setState({total:r})}},{key:"handleCloseModal",value:function(){this.setState({show:!1})}},{key:"clickSend",value:function(){0===this.state.orders.length?alert("No existe registros de pedidos para enviar"):this.setState({show:!0})}},{key:"handleChangeClient",value:function(e){this.setState({client:e.target.value})}},{key:"handleChangeTable",value:function(e){this.setState({table:e.target.value})}},{key:"clickSaveOrderFirestore",value:function(){var e,t={waiter:"John Cena",client:this.state.client,date:new Date,order:this.state.orders,table:this.state.table,totalPay:this.state.total,state:!1};this.state.client?(e=t,E.collection("pruebaOrder").add(e),this.setState({show:!1}),this.setState({products:[]}),this.setState({orders:[]}),this.setState({total:0})):alert("No se ha registrado nombre del cliente")}},{key:"render",value:function(){return r.a.createElement("main",{className:"d-flex bd-highlight","data-testid":"waiter"},r.a.createElement(B,{clickTabs:this.clickTabs,products:this.state.products,clickProduct:this.clickProduct,offers:this.state.offers,productOffer:this.state.productOffer,clickOffer:this.clickOffer}),r.a.createElement(w,{orderProduct:this.state.orders,clickButtonAdd:this.clickButtonAdd,clickButtonSubtrack:this.clickButtonSubtrack,clickButtonDelete:this.clickButtonDelete,totalPay:this.state.total,clickSend:this.clickSend}),r.a.createElement(R,{show:this.state.show,handleClose:this.handleCloseModal,totalPay:this.state.total,orderProduct:this.state.orders,clickSaveOrderFirestore:this.clickSaveOrderFirestore,client:this.state.client,handleChangeClient:this.handleChangeClient,table:this.state.table,handleChangeTable:this.handleChangeTable}))}}]),a}(r.a.Component);var G=function(){return r.a.createElement("div",{"data-testid":"app"},r.a.createElement(f,null),r.a.createElement(z,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(G,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[35,1,2]]]);
//# sourceMappingURL=main.26b804f1.chunk.js.map